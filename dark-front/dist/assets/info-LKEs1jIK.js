import{_ as l}from"./logozbs-BIZfnIXH.js";import{_ as d}from"./exit2-yiskTQzU.js";import{_ as u,c as _,a as s,b as p,w as c,r as v,t as r,o as m}from"./index-DZ234JqJ.js";const f="/assets/map-DxfqaI09.png",h={data(){return{userIp:"Определение IPv4 ...",userIpv6:"Определение IPv6 ...",response:null,latency:null}},async mounted(){this.getIpv4(),this.getIpv6(),this.socketConnect()},methods:{async getIpv4(){try{const t=await(await fetch("https://api.ipify.org?format=json")).json();this.userIp=t.ip}catch{this.userIp="Не удалось получить IP"}},async getIpv6(){try{const t=await(await fetch("https://api64.ipify.org?format=json")).json();if(t.ip.includes(".")){this.userIpv6="IPv6 отсутствует";return}this.userIpv6=t.ip}catch{this.userIpv6="IPv6 не поределён"}},async socketConnect(){const e=new WebSocket("wss://darksurf.ru:5554/");await new Promise(o=>{e.open=o}),performance.now(),e.send("ping");const t=await new Promise(o=>{e.onmessage=i=>{o(JSON.parse(i.data))}});e.close(),this.response=t}}},I={class:"main"},w={class:"header"},g={class:"nav1"},y={class:"nav"},k={class:"container"},b={class:"info"},P={class:"ip"},x={class:"ip ip6"},j={class:"ip ip6"};function C(e,t,o,i,n,S){const a=v("RouterLink");return m(),_("div",I,[s("div",w,[s("div",g,[p(a,{to:"/"},{default:c(()=>t[0]||(t[0]=[s("img",{class:"logo",src:l,width:"80"},null,-1)])),_:1}),t[1]||(t[1]=s("span",{class:"header-text"},[s("i",null," DarkSurf.ru ")],-1))]),s("div",y,[p(a,{to:"/"},{default:c(()=>t[2]||(t[2]=[s("a",{href:"/"},[s("img",{src:d})],-1)])),_:1})])]),s("div",k,[t[3]||(t[3]=s("div",{class:"map"},[s("img",{src:f,width:"450"})],-1)),s("div",b,[s("div",P,[s("b",null,r(n.userIp),1)]),s("div",x,[s("b",null,r(n.userIpv6),1)]),s("div",j,[s("b",null,r(n.response),1)])])]),t[4]||(t[4]=s("div",null,[s("br"),s("br"),s("br")],-1))])}const L=u(h,[["render",C],["__scopeId","data-v-686e21cf"]]);export{L as default};
