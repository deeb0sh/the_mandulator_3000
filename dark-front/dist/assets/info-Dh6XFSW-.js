import{_ as f,c as h,a as t,b as _,w as v,r as d,f as g,t as e,g as c,h as I,k,l as w,o as u}from"./index-DQMA_Jm5.js";import{_ as b}from"./logozbs-BIZfnIXH.js";import{_ as y}from"./exit2-yiskTQzU.js";const x={data(){return{isMobile:"",userIp:"Определение IPv4 ...",userIpv6:"Определение IPv6 ...",pingFI:null,pingDE:null,pingRU:null}},async mounted(){this.chechScreen(),this.getIpv4(),this.getIpv6(),this.monitor("wss://fi.darksurf.ru:5554/","pingFI"),this.monitor("wss://de.darksurf.ru:5554/","pingDE"),this.monitor("wss://ru.darksurf.ru:5554/","pingRU")},methods:{chechScreen(){this.isMobile=innerWidth<=470},async getIpv4(){try{const s=await(await fetch("https://api.ipify.org?format=json")).json();this.userIp=s.ip}catch{this.userIp="Не удалось получить IP"}},async getIpv6(){try{const s=await(await fetch("https://api64.ipify.org?format=json")).json();if(s.ip.includes(".")){this.userIpv6="IPv6 отсутствует";return}this.userIpv6=s.ip}catch{this.userIpv6="IPv6 не поределён"}},async monitor(i,s){const n=new WebSocket(i);let r=0;const o={pingFI:9,pingDE:0,pingRU:0};n.onopen=()=>{r=performance.now(),n.send("ping")},n.onmessage=m=>{const p=performance.now(),a=JSON.parse(m.data),l=(p-r-o[s]-a.sTime).toFixed(1);this[s]=l,setTimeout(()=>{r=performance.now(),n.send("ping")},1e3)}}}},R={class:"main"},S={class:"header"},D={class:"nav1"},P={class:"nav"},E={class:"container"},F={class:"map"},j={class:"info"},B={class:"ip"},N={class:"ip ip6"},T={class:"ip"},U={class:"ip"},M={class:"ip"};function V(i,s,n,r,o,m){const p=d("RouterLink"),a=d("karta300"),l=d("karta450");return u(),h("div",R,[t("div",S,[t("div",D,[_(p,{to:"/"},{default:v(()=>s[0]||(s[0]=[t("img",{class:"logo",src:b,width:"80"},null,-1)])),_:1}),s[1]||(s[1]=t("span",{class:"header-text"},[t("i",null," DarkSurf.ru ")],-1))]),t("div",P,[_(p,{to:"/"},{default:v(()=>s[2]||(s[2]=[t("a",{href:"/"},[t("img",{src:y})],-1)])),_:1})])]),t("div",E,[t("div",F,[o.isMobile?(u(),g(a,{key:0})):(u(),g(l,{key:1}))]),t("div",j,[t("div",B,[t("b",null,e(o.userIp),1)]),t("div",N,[t("b",null,e(o.userIpv6),1)]),t("div",T,[s[3]||(s[3]=t("img",{src:I,width:"30"},null,-1)),s[4]||(s[4]=c()),t("b",null," - "+e(o.pingFI)+" ms",1)]),t("div",U,[s[5]||(s[5]=t("img",{src:k,width:"30"},null,-1)),s[6]||(s[6]=c()),t("b",null," - "+e(o.pingDE)+" ms",1)]),t("div",M,[s[7]||(s[7]=t("img",{src:w,width:"30"},null,-1)),s[8]||(s[8]=c()),t("b",null," - "+e(o.pingRU)+" ms",1)])])]),s[9]||(s[9]=t("div",null,[t("br"),t("br"),t("br")],-1))])}const J=f(x,[["render",V],["__scopeId","data-v-50491a3d"]]);export{J as default};
