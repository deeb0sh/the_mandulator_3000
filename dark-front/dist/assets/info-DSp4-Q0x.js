import{_ as v}from"./logozbs-BIZfnIXH.js";import{_ as g}from"./exit2-yiskTQzU.js";import{_ as f,c as I,a as t,b as l,w as c,r as m,t as r,g as d,h,k as w,l as b,o as k}from"./index-CMf0v7wk.js";const y={data(){return{userIp:"Определение IPv4 ...",userIpv6:"Определение IPv6 ...",pingFI:null,pingDE:null,pingRU:null}},async mounted(){this.getIpv4(),this.getIpv6(),this.monitor("wss://fi.darksurf.ru:5554/","pingFI"),this.monitor("wss://de.darksurf.ru:5554/","pingDE"),this.monitor("wss://ru.darksurf.ru:5554/","pingRU")},methods:{async getIpv4(){try{const s=await(await fetch("https://api.ipify.org?format=json")).json();this.userIp=s.ip}catch{this.userIp="Не удалось получить IP"}},async getIpv6(){try{const s=await(await fetch("https://api64.ipify.org?format=json")).json();if(s.ip.includes(".")){this.userIpv6="IPv6 отсутствует";return}this.userIpv6=s.ip}catch{this.userIpv6="IPv6 не поределён"}},async monitor(i,s){const n=new WebSocket(i);let e=0;const o={pingFI:9,pingDE:0,pingRU:0};n.onopen=()=>{e=performance.now(),n.send("ping")},n.onmessage=u=>{const p=performance.now(),a=JSON.parse(u.data),_=(p-e-o[s]-a.sTime).toFixed(1);this[s]=_,setTimeout(()=>{e=performance.now(),n.send("ping")},1e3)}}}},x={class:"main"},R={class:"header"},D={class:"nav1"},P={class:"nav"},E={class:"container"},F={class:"map"},S={class:"info"},j={class:"ip"},N={class:"ip ip6"},T={class:"ip"},U={class:"ip"},B={class:"ip"};function V(i,s,n,e,o,u){const p=m("RouterLink"),a=m("karta");return k(),I("div",x,[t("div",R,[t("div",D,[l(p,{to:"/"},{default:c(()=>s[0]||(s[0]=[t("img",{class:"logo",src:v,width:"80"},null,-1)])),_:1}),s[1]||(s[1]=t("span",{class:"header-text"},[t("i",null," DarkSurf.ru ")],-1))]),t("div",P,[l(p,{to:"/"},{default:c(()=>s[2]||(s[2]=[t("a",{href:"/"},[t("img",{src:g})],-1)])),_:1})])]),t("div",E,[t("div",F,[l(a)]),t("div",S,[t("div",j,[t("b",null,r(o.userIp),1)]),t("div",N,[t("b",null,r(o.userIpv6),1)]),t("div",T,[s[3]||(s[3]=t("img",{src:h,width:"30"},null,-1)),s[4]||(s[4]=d()),t("b",null," - "+r(o.pingFI)+" ms",1)]),t("div",U,[s[5]||(s[5]=t("img",{src:w,width:"30"},null,-1)),s[6]||(s[6]=d()),t("b",null," - "+r(o.pingDE)+" ms",1)]),t("div",B,[s[7]||(s[7]=t("img",{src:b,width:"30"},null,-1)),s[8]||(s[8]=d()),t("b",null," - "+r(o.pingRU)+" ms",1)])])]),s[9]||(s[9]=t("div",null,[t("br"),t("br"),t("br")],-1))])}const O=f(y,[["render",V],["__scopeId","data-v-5b24a27b"]]);export{O as default};
