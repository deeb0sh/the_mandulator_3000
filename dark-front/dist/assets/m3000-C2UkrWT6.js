import{_ as c,c as l,e as A,a as s,b as d,w as u,r as m,t as p,g,o as h}from"./index-BcZAMTEF.js";import{_ as w}from"./logozbs-BIZfnIXH.js";const B="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAACqUlEQVR4nO2Zy04UURCGPyfORnCJK8WNN3SnrLytFVYKT4GsjMGM4QE0iBuNlyCuEDcoIMa9opHgG0D0DdwKLLTNSWqSsnLOTI9d7cyi/6STmZ46f1V11+2cgQoVKlSo0GM4CowCk8BtucLnEWCQHsUZYBb4DmRtrm/ADDBED+AUsAr8zmG4vcKaZeBkNwyvAdPAXsSwn8AHYAF4INeC3NuJyO8CDeH8L+gD3kcMWQGuy++t1o4BbyPr19qsdTP+s1H8BTj/D1wXgA3D9alMJ2qRJ/8I2F+Asw48jryJUsJp2ii66ch9y3CHnHDFCUm2poKH3gr4+03seVenVRPzRcKmVThtKj2vPZuUrvOphD0EDOfgGxbZGC4pPb+8mt19UypjCAb9EJm5RBLW5LdMZAcSXGtK3z0PB/R4cC0hc84k4bxxoib3tMzZBNeYktkuavyg6bCtavRcwomY8UE2hX7TsQ8XcWBUEYVRoBVihs4n7rWr8x+V/NUiDkwqopc55GNOdGp8wKJaM0EB3FFEYQTOg32R7tqJ8bZwNLwcCKR5HXgSceBFBw7Mejlwo0sh9MorhLqVxOteSazL6I6UuLLL6EEzdxUqo8getkkWNixlN7JxJbOFA2YUYdhJlT1KvFP67no4cNoMcxcTcgMtnqp9WynjL5thLhwauGBZEW/I6OuNOvBV6VnyJD9uEus5/niq+HfLOG5pmCQM20AvTBnu8N0dNTOrZ9Jxi4RTHXhmOFekm5eCA3L0oRVuyk6qU4SE1TGfyRQadJSKvsibaJbY8TbNrl9kdKnM1JMv3XgdTg2T2Lpjr8vs1DxaXJR7KfmpMsOm3XHLG6nZWYdXWBNK5TF6AEOyAd/OYfiWdFi3JuWNIzJBTqg/OMLnKx6DWYUKFSpUwBN/ADytcW875BNbAAAAAElFTkSuQmCC",k={name:"m3000",data(){return{token:null,isValidating:!0}},async mounted(){await this.sessionValid()},methods:{checkRole3(t){return t===3},checkRole2(t){return t===2},checkRole1(t){return t===1},checkRole0(t){return t===0},async sessionValid(){try{const t=localStorage.getItem("jwt");if(!t){this.$router.push("/");return}const e=await g();(await(await fetch("/auth/login",{method:"GET",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`,"X-Fingerprint":e}})).json()).message==="valid"?(this.token=t,this.isValidating=!1):(localStorage.removeItem("jwt"),this.$router.push("/"))}catch{this.$router.push("/")}},logOut(){confirm("Вы уверены, что хотите выйти?")&&(localStorage.removeItem("jwt"),this.$router.push("/"))}}},v={key:0,class:"main"},C={class:"header"},N={class:"nav"},y={class:"nav"},f={class:"container"};function L(t,e,n,a,o,i){const r=m("RouterLink");return o.isValidating===!1?(h(),l("div",v,[s("div",C,[s("div",N,[d(r,{to:"/"},{default:u(()=>e[1]||(e[1]=[s("img",{class:"logo",src:w,width:"80"},null,-1)])),_:1}),e[2]||(e[2]=s("span",{class:"header-text"},[s("i",null," username ")],-1))]),s("div",y,[s("a",{href:"#",onClick:e[0]||(e[0]=R=>i.logOut())},e[3]||(e[3]=[s("img",{src:B},null,-1)]))])]),s("div",f,p(o.token),1),e[4]||(e[4]=s("div",null,null,-1))])):A("",!0)}const E=c(k,[["render",L],["__scopeId","data-v-c2a0319c"]]);export{E as default};
