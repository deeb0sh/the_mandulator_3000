import{_ as m}from"./logozbs-BIZfnIXH.js";import{_}from"./exit2-yiskTQzU.js";import{_ as v,c as f,a as s,b as c,w as l,r as g,t as e,o as h}from"./index-Cjj7w3B8.js";const I="/assets/map-DxfqaI09.png",w={data(){return{userIp:"Определение IPv4 ...",userIpv6:"Определение IPv6 ...",pingFI:null,pingDE:null,pingRU:null}},async mounted(){this.getIpv4(),this.getIpv6(),this.monitor("wss://fi.darksurf.ru:5554/","pingFI"),this.monitor("wss://de.darksurf.ru:5554/","pingDE"),this.monitor("wss://ru.darksurf.ru:5554/","pingRU")},methods:{async getIpv4(){try{const t=await(await fetch("https://api.ipify.org?format=json")).json();this.userIp=t.ip}catch{this.userIp="Не удалось получить IP"}},async getIpv6(){try{const t=await(await fetch("https://api64.ipify.org?format=json")).json();if(t.ip.includes(".")){this.userIpv6="IPv6 отсутствует";return}this.userIpv6=t.ip}catch{this.userIpv6="IPv6 не поределён"}},async monitor(o,t){const n=new WebSocket(o);let r=0,i={pingFI:9,pingDE:0,pingRU:0};n.onopen=()=>{r=performance.now(),n.send("ping")},n.onmessage=a=>{const p=performance.now(),d=JSON.parse(a.data),u=(p-r-i[t]-d.sTime).toFixed(1);this[t]=u,setTimeout(()=>{r=performance.now(),n.send("ping")},1e3)}}}},b={class:"main"},k={class:"header"},y={class:"nav1"},D={class:"nav"},R={class:"container"},x={class:"info"},F={class:"ip"},P={class:"ip ip6"},E={class:"ip ip6"},S={class:"ip ip6"},j={class:"ip ip6"};function U(o,t,n,r,i,a){const p=g("RouterLink");return h(),f("div",b,[s("div",k,[s("div",y,[c(p,{to:"/"},{default:l(()=>t[0]||(t[0]=[s("img",{class:"logo",src:m,width:"80"},null,-1)])),_:1}),t[1]||(t[1]=s("span",{class:"header-text"},[s("i",null," DarkSurf.ru ")],-1))]),s("div",D,[c(p,{to:"/"},{default:l(()=>t[2]||(t[2]=[s("a",{href:"/"},[s("img",{src:_})],-1)])),_:1})])]),s("div",R,[t[3]||(t[3]=s("div",{class:"map"},[s("img",{src:I,width:"450"})],-1)),s("div",x,[s("div",F,[s("b",null,e(i.userIp),1)]),s("div",P,[s("b",null,e(i.userIpv6),1)]),s("div",E,[s("b",null,"Fi - "+e(i.pingFI)+" ms",1)]),s("div",S,[s("b",null,"De - "+e(i.pingDE)+" ms",1)]),s("div",j,[s("b",null,"Ru - "+e(i.pingRU)+" ms",1)])])]),t[4]||(t[4]=s("div",null,[s("br"),s("br"),s("br")],-1))])}const C=v(w,[["render",U],["__scopeId","data-v-5e59c8b1"]]);export{C as default};
