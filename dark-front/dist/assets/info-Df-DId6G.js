import{_ as g}from"./logozbs-BIZfnIXH.js";import{_ as v}from"./exit2-yiskTQzU.js";import{_ as f,c as _,a as t,b as d,w as u,r as I,t as r,g as a,h as w,k as h,l as b,o as k}from"./index-DeqSFWzR.js";const y="/assets/map-DxfqaI09.png",x={data(){return{userIp:"Определение IPv4 ...",userIpv6:"Определение IPv6 ...",pingFI:null,pingDE:null,pingRU:null}},async mounted(){this.getIpv4(),this.getIpv6(),this.monitor("wss://fi.darksurf.ru:5554/","pingFI"),this.monitor("wss://de.darksurf.ru:5554/","pingDE"),this.monitor("wss://ru.darksurf.ru:5554/","pingRU")},methods:{async getIpv4(){try{const s=await(await fetch("https://api.ipify.org?format=json")).json();this.userIp=s.ip}catch{this.userIp="Не удалось получить IP"}},async getIpv6(){try{const s=await(await fetch("https://api64.ipify.org?format=json")).json();if(s.ip.includes(".")){this.userIpv6="IPv6 отсутствует";return}this.userIpv6=s.ip}catch{this.userIpv6="IPv6 не поределён"}},async monitor(o,s){const n=new WebSocket(o);let e=0;const i={pingFI:9,pingDE:0,pingRU:0};n.onopen=()=>{e=performance.now(),n.send("ping")},n.onmessage=l=>{const p=performance.now(),m=JSON.parse(l.data),c=(p-e-i[s]-m.sTime).toFixed(1);this[s]=c,setTimeout(()=>{e=performance.now(),n.send("ping")},1e3)}}}},D={class:"main"},R={class:"header"},P={class:"nav1"},E={class:"nav"},F={class:"container"},S={class:"info"},j={class:"ip"},N={class:"ip ip6"},T={class:"ip"},U={class:"ip"},B={class:"ip"};function V(o,s,n,e,i,l){const p=I("RouterLink");return k(),_("div",D,[t("div",R,[t("div",P,[d(p,{to:"/"},{default:u(()=>s[0]||(s[0]=[t("img",{class:"logo",src:g,width:"80"},null,-1)])),_:1}),s[1]||(s[1]=t("span",{class:"header-text"},[t("i",null," DarkSurf.ru ")],-1))]),t("div",E,[d(p,{to:"/"},{default:u(()=>s[2]||(s[2]=[t("a",{href:"/"},[t("img",{src:v})],-1)])),_:1})])]),t("div",F,[s[9]||(s[9]=t("div",{class:"map"},[t("img",{src:y,width:"450"})],-1)),t("div",S,[t("div",j,[t("b",null,r(i.userIp),1)]),t("div",N,[t("b",null,r(i.userIpv6),1)]),t("div",T,[s[3]||(s[3]=t("img",{src:w,width:"30"},null,-1)),s[4]||(s[4]=a()),t("b",null," - "+r(i.pingFI)+" ms",1)]),t("div",U,[s[5]||(s[5]=t("img",{src:h,width:"30"},null,-1)),s[6]||(s[6]=a()),t("b",null," - "+r(i.pingDE)+" ms",1)]),t("div",B,[s[7]||(s[7]=t("img",{src:b,width:"30"},null,-1)),s[8]||(s[8]=a()),t("b",null," - "+r(i.pingRU)+" ms",1)])])]),s[10]||(s[10]=t("div",null,[t("br"),t("br"),t("br")],-1))])}const J=f(x,[["render",V],["__scopeId","data-v-9297778b"]]);export{J as default};
