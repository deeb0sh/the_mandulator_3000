import{_ as u}from"./logozbs-BIZfnIXH.js";import{_ as m}from"./exit2-yiskTQzU.js";import{_,c as f,a as s,b as c,w as l,r as v,t as e,o as g}from"./index-DgcHHgdi.js";const h="/assets/map-DxfqaI09.png",I={data(){return{userIp:"Определение IPv4 ...",userIpv6:"Определение IPv6 ...",pingFI:null,pingDE:null,pingRU:null}},async mounted(){this.getIpv4(),this.getIpv6(),this.monitor("wss://fi.darksurf.ru:5554/","pingFI"),this.monitor("wss://de.darksurf.ru:5554/","pingDE"),this.monitor("wss://ru.darksurf.ru:5554/","pingRU")},methods:{async getIpv4(){try{const t=await(await fetch("https://api.ipify.org?format=json")).json();this.userIp=t.ip}catch{this.userIp="Не удалось получить IP"}},async getIpv6(){try{const t=await(await fetch("https://api64.ipify.org?format=json")).json();if(t.ip.includes(".")){this.userIpv6="IPv6 отсутствует";return}this.userIpv6=t.ip}catch{this.userIpv6="IPv6 не поределён"}},async monitor(i,t){const n=new WebSocket(i);let r=0;n.onopen=()=>{r=performance.now(),n.send("ping")},n.onmessage=o=>{const a=performance.now(),p=JSON.parse(o.data),d=(a-r-p.sTime-4).toFixed(1);this[t]=d,setTimeout(()=>{r=performance.now(),n.send("ping")},1e3)}}}},w={class:"main"},b={class:"header"},k={class:"nav1"},y={class:"nav"},x={class:"container"},D={class:"info"},R={class:"ip"},P={class:"ip ip6"},F={class:"ip ip6"},S={class:"ip ip6"},j={class:"ip ip6"};function E(i,t,n,r,o,a){const p=v("RouterLink");return g(),f("div",w,[s("div",b,[s("div",k,[c(p,{to:"/"},{default:l(()=>t[0]||(t[0]=[s("img",{class:"logo",src:u,width:"80"},null,-1)])),_:1}),t[1]||(t[1]=s("span",{class:"header-text"},[s("i",null," DarkSurf.ru ")],-1))]),s("div",y,[c(p,{to:"/"},{default:l(()=>t[2]||(t[2]=[s("a",{href:"/"},[s("img",{src:m})],-1)])),_:1})])]),s("div",x,[t[3]||(t[3]=s("div",{class:"map"},[s("img",{src:h,width:"450"})],-1)),s("div",D,[s("div",R,[s("b",null,e(o.userIp),1)]),s("div",P,[s("b",null,e(o.userIpv6),1)]),s("div",F,[s("b",null,"Fi - "+e(o.pingFI)+" ms",1)]),s("div",S,[s("b",null,"De - "+e(o.pingDE)+" ms",1)]),s("div",j,[s("b",null,"Ru - "+e(o.pingRU)+" ms",1)])])]),t[4]||(t[4]=s("div",null,[s("br"),s("br"),s("br")],-1))])}const U=_(I,[["render",E],["__scopeId","data-v-2f405f40"]]);export{U as default};
